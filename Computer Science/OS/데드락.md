# 데드락 (교착상태)

두 개 이상의 프로세스나 스레드가 서로 자원을 얻지 못해서 다음 처리를 하지 못하는 상태

무한히 다음 자원을 기다리게 되는 상태를 말한다.

시스템적으로 한정된 자원을 여러 곳에서 사용하려고 할 때 발생한다.

---
### 데드락이 일어나는 경우
<img width="365" alt="image" src="https://user-images.githubusercontent.com/76643037/201330235-185dafe1-aeb2-4f6d-b7d1-40d3c38e3214.png">

현재 서로 원하는 자원이 상대방에 할당되어 있어서 두 프로세스는 무한정 wait 상태에 빠짐

---
### 데드락 발생 조건
4가지 모두 충족되어야 데드락이 발생한다.
1. 상호 배제 (Mutual exclusion) </br>
    자원은 한 번에 한 프로세스만 사용할 수 있음
2. 점유 대기 (Hold and Wait) </br>
    최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 존재해야 함
3. 비선점 (No preemption)
    다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없음
4. 순환 대기 (Circular wait)
    프로세스의 집합에서 순환 형태로 자원을 대기하고 있어야 함

---
### 데드락 해결 방안
* 예방 & 회피

    예방 : 교착 상태 발생 조건 중 하나를 제거하면서 해결한다 </br>
    회피 : 교착 상태 발생 시 피해나가는 방법 (은행원 알고리즘)

* 탐지 & 회복

    탐지 : 자원 할당 그래프를 통해 교착 상태를 탐지함. 자원 요청 시, 탐지 알고리즘을 실행시켜 그에 대한 오버헤드 발생함 </br>
    회복 : 교착 상태 일으킨 프로세스를 종료하거나, 할당된 자원을 해제시켜 회복시키는 방법
